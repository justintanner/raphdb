<%= turbo_frame_tag "edit_item" do %>
  <div class="row">
    <div class="col-10">
      <%= form_for(@item, url: editor_item_path(@item.id)) do |form| %>
        <div class="<%= class_names("row", "p-3", "flash-green": local_variables.include?(:flash_green)) %>">
          <% Field.all_cached.each do |field| %>
            <%= render "editor/items/fields/#{field.column_type_sym}", { form: form, field: field, item: @item } %>
            <% if field.divider %>
              <div class="col-12">
                <hr class="my-3">
              </div>
            <% end %>
          <% end %>

          <div class="col-12">
            <%= form.submit "Save", class: "btn btn-block btn-primary", data: { bs_dismiss: "offcanvas" } %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="col-2">
      <div class="row p-3">
        <p class="m-0 p-0"><label class="form-label">Images</label></p>
        <%= turbo_stream_from "edit_images_stream" %>
        <%= render "carousel", { item: @item } %>
      </div>
    </div>
  </div>
<% end %>

