<%= turbo_frame_tag "image_editor_frame" do %>
  <div class="fade-in">
    <div data-controller="image-editor"
         data-image-editor-id-value="<%= @image.id %>"
         data-image-editor-large-width-value="<%= @image.width(:large) %>"
         data-image-editor-large-height-value="<%= @image.height(:large) %>"
         data-image-editor-width-value="<%= @image.width %>"
         data-image-editor-height-value="<%= @image.height %>">
      <div class="d-flex justify-content-center py-3">
        <button type="button" class="btn btn-outline-dark mx-1 d-block" data-image-editor-target="cropButton" data-action="click->image-editor#startCrop">
          <i class="bi bi-crop me-1"></i>Crop
        </button>
        <button type="button" class="btn btn-outline-dark mx-1 d-none" data-image-editor-target="clearCropButton" data-action="click->image-editor#clearCrop">
          <i class="bi bi-x-circle me-1"></i>Clear Crop
        </button>
        <button type="button" class="btn btn-outline-dark mx-1" data-action="click->image-editor#rotateLeft">
          <i class="bi bi-arrow-counterclockwise me-1"></i>Rotate Left
        </button>
        <button type="button" class="btn btn-outline-dark mx-1" data-action="click->image-editor#rotateRight">
          <i class="bi bi-arrow-clockwise me-1"></i>Rotate Right
        </button>
      </div>

      <div class="h-100 border">
        <img src="<%= url_for(@image.file.variant(:large)) %>"
             data-image-editor-target="image"
             alt="editing image"/>
      </div>

      <div class="d-flex justify-content-center py-3 me-3">
        <button type="button" class="btn btn-dark mx-1" data-action="click->image-editor#save" data-bs-dismiss="modal">Save</button>
        <button type="button" class="btn btn-link mx-1" data-bs-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
<% end %>
