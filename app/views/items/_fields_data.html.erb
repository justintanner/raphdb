<% Field.published_with_data(current_item).each.with_index(1) do |field, index| %>
  <% next if local_variables.include?(:except) && except.include?(field.key) %>
  <% if field.short_label?(current_item) && !local_variables.include?(:limit) %>
    <p class="mb-2"><label class="item-short-label text-muted me-1"><small><%= field.title %></small></label><%= field.data_for_display(current_item) %></p>
  <% else %>
    <% value = field.data_for_display(current_item) %>
    <label class="text-muted"><small><%= field.title %></small></label>
    <p><%= local_variables.include?(:limit) ? value.truncate(32) : value %></p>
  <% end %>
  <% break if local_variables.include?(:limit) && index >= limit %>
<% end %>