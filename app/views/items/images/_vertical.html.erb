<div class="d-flex align-items-start">
  <ul class="list-group d-inline-block me-2">
    <% item.images.each.with_index(1) do |image, index| %>
      <li class="list-group-item d-flex justify-content-center p-2" style="width: 46px;">
        <%= link_to picture_item_path(item, image.position) do %>
          <%= image_tag url_for(image.file.variant(:micro)),
                        srcset: srcset(image, :micro_retina, :micro),
                        sizes: "#{image.width(:micro)}px",
                        width: image.width(:micro),
                        height: image.height(:micro),
                        class: class_names("border": true, "border-dark": image == first_image) %>
        <% end %>
      </li>
      <% if item.images.count > 3 && index == 3 %>
        <li class="list-group-item p-2">
          <span class="badge bg-light text-dark">+ <%= item.images.count - index %></span>
        </li>
        <% break %>
      <% end %>
    <% end %>
  </ul>

  <%= link_to item do %>
    <%= image_tag url_for(first_image.file.variant(:medium)),
                  srcset: srcset(first_image, :medium_retina, :medium),
                  sizes: "#{first_image.width(:medium)}px",
                  width: first_image.width(:medium),
                  height: first_image.height(:medium),
                  class: "border" %>
  <% end %>
</div>