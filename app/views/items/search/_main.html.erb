<%= content_for :no_footer, true %>
<%= content_for :title, search_title(query: params[:q]) %>
<%= content_for :container_class, "container-#{tab}" %>

<div class="container-<%= tab %>">
  <div class="row">
    <div class="col">
      <ul class="nav nav-tabs">
        <li class="nav-item">
          <%= link_to url_for(only_path: false, q: params[:q], page: pagy.page, tab: "images"), class: class_names("nav-link": true, "active": tab == "images") do %>
            <%= render "svgs/bi-grid" %><span class="ms-1">Images</span>
          <% end %>
        </li>
        <li class="nav-item">
          <%= link_to url_for(only_path: false, q: params[:q], page: pagy.page, tab: "list"), class: class_names("nav-link": true, "active": tab == "list") do %>
            <%= render "svgs/bi-list" %><span class="ms-1">List</span>
          <% end %>
        </li>
        <li class="nav-item pt-2 ms-auto">
          <span class="text-muted"><%= search_count(count: pagy.count, query: params[:q]) %></span>
        </li>
      </ul>
    </div>
  </div>
</div>

<% if items.empty? %>
  <%= render "items/search/no_results", tab: tab %>
<% elsif tab == "list" %>
  <div class="container-list mt-3">
    <div class="row">
      <div class="col d-flex flex-column h-100 py-0 overflow-hidden" style="height: 400px;">
        <%= render "items/search/list", items: items, pagy: pagy %>
      </div>
    </div>
  </div>
<% else %>
  <%= render "items/search/images", items: items, pagy: pagy %>
<% end %>