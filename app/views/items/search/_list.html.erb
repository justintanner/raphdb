<%= turbo_frame_tag "page_handler" %>

<div class="container-list">
  <div class="row">
    <div class="col d-flex flex-column h-100 pt-3">
      <div class="list-wrapper">
        <table class="list-table" data-controller="list">
          <thead>
          <tr>
            <% Field.published.each do |field| %>
              <th data-list-target="colHeader" id="<%= dom_id(field) %>"><div class="list-col-title"><%= field.title %></div></th>
            <% end %>
          </tr>
          </thead>
          <tbody id="append-items">
          <%= render partial: "items/search/list_item", collection: @items, as: :item %>
          </tbody>
          <tfoot>
          <tr>
            <td>
              <%= render "items/search/list_load_more", pagy: @pagy, tab: "list" %>
              <div class="d-none align-items-center" data-list-target="spinnerContainer">
                <span class="spinner-border text-secondary spinner-border-sm" role="status" aria-hidden="true"></span>
              </div>
            </td>
            <td colspan="<%= View.default.fields.length - 1%>">
              &nbsp;
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>

